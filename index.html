<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <base href="/assets/">
  <link rel="stylesheet" href="./css/style.css?1749630751356551946">
  <script src="./js/theme.js?1749630751356551946"></script>
  <script src="./js/screen.js"></script>
  <link rel="icon" href="./img/icons/clown-48x.png" type="image/png">
  <title>Dark : Tonnel Marketplace</title>
</head>
<body>
  <div class="body">
    <div class="scroll_wrapper">
      <div class="content">
        <!-- Embedded CSS for marketplace layout -->
        <style>
          @font-face {
            font-family: "sfr";
            src: url("./fonts/sf-pro-rounded.woff2");
          }

          #list * {
            font-family: "sfr";
            font-weight: 600;
          }

          #list {
            display: grid;
            --fw: min(calc(100vw - 56px),980px);
            perspective: 1000px;
            transform-style: preserve-3d;
            overflow: hidden;
          }
          #list .item {
            position: relative;
            background-color: var(--md-sys-color-background);
            box-sizing: border-box;
            overflow: hidden;
            width: 96%;
            margin: 2%;
            border-radius: calc(var(--font)/10010);
            font-size: 0;
            text-decoration: none;
            aspect-ratio: 1;
          }
          #list .item.bundle {
            display: flex;
            flex-wrap: wrap;
            box-sizing: border-box;
          }
          #list .item.bundle .image {
            flex: 1 1 calc(100%/var(--cols));
            width: 100%;
            aspect-ratio: 2;
          }
          #list img {
            width: 100%;
            height: 100%;
            object-fit: cover;
          }
          #list .q {
            color: var(--md-sys-color-outline-variant);
            font-size: calc(var(--font)/1008);
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            aspect-ratio: 1;
            border-radius: calc(var(--font)/10010);
            box-shadow: inset 0 0 0 2px var(--md-sys-color-outline-variant);
          }
          #list .id {
            background-color: #0023;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 10%;
            position: absolute;
            top: 45%;
            right: 0;
            transform-origin: center center;
            transform: rotateZ(45deg) translateY(-525%);
            font-size: calc(var(--font)/1005.5);
          }
          #list .price {
            background-color: #0023;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: absolute;
            bottom: 7%;
            left: 7%;
            padding: 2% 4%;
            border-radius: calc(var(--font)/1006);
            font-size: calc(var(--font)/1006);
          }

          @media screen and (width > 100px) {
            #list {
              grid-template-columns: repeat(2,1fr);
              --font: calc(var(--fw)/2);
            }
          }
          @media screen and (width > 500px) {
            #list {
              grid-template-columns: repeat(3,1fr);
              --font: calc(var(--fw)/3);
            }
          }
          @media screen and (width > 700px) {
            #list {
              grid-template-columns: repeat(4,1fr);
              --font: calc(var(--fw)/4);
            }
          }
          @media screen and (width > 900px) {
            #list {
              grid-template-columns: repeat(5,1fr);
              --font: calc(var(--fw)/5);
            }
          }

          .controls {
            display: flex;
            width: 100%;
            height: 48px;
            padding: 4px;
          }

          .controls button {
            display: flex;
            justify-content: center;
            align-items: center;
            min-width: 0;
            height: 100%;
            margin: 0;
            aspect-ratio: 1;
          }

          .controls button:first-of-type {
            border-radius: 16px 8px 8px 16px;
          }

          .controls button:last-of-type {
            border-radius: 8px 16px 16px 8px;
          }

          .controls input {
            width: calc(100% - 90px);
            height: 100%;
            text-align: center;
            margin: 0 auto;
          }

          .filteri {
            width: 100%;
            margin: 0;
          }
          .filterd {
            display: none;
            flex-direction: column;
            overflow: hidden;
            width: 100%;
            max-width: 400px;
            max-height: 256px;
            padding: 8px;
            border-radius: 12px;
            outline: 1px solid var(--md-sys-color-outline-variant);
            margin-bottom: 8px;
          }
          .filterd .filters {
            margin-bottom: 8px;
          }
          .filterd .filterl {
            padding: 4px;
            overflow-y: auto;
          }
          .filterd .filterl div img {
            width: 15px;
            margin-left: 4px;
            margin-right: 4px;
          }
          .filterd .filterl div {
            cursor: pointer;
            padding: 4px;
          }
          .filterd .filterl div.active {
            border-left: 2px solid var(--md-sys-color-primary-container);
          }
          .filterd .filterl div.hidden {
            display: none;
          }

          .filters1 {
            width: 100%;
            max-width: 400px;
            display: grid;
            grid-template-columns: repeat(2,1fr);
            justify-items: center;
            margin: 0 auto;
            gap: 4px;
            margin-bottom: 8px;
          }

          .filters2 {
            display: flex;
            justify-content: center;
            align-items: center;
          }

          .filters3 {
            width: 100%;
            max-width: 400px;
            display: grid;
            grid-template-columns: repeat(2,1fr);
            justify-items: center;
            margin: 0 auto;
            gap: 8px;
            margin-bottom: 8px;
          }

          .filters3 .item {
            position: relative;
            width: 100%;
            height: 40px;
          }

          .filters3 .item .label {
            background-color: var(--md-sys-color-background);
            color: var(--md-sys-color-outline);
            position: absolute;
            top: -7px;
            left: 7px;
            font-size: 10px;
            padding: 0 2px;
            border-radius: 2px;
          }

          .filters3 .range {
            display: flex;
            gap: 8px;
          }

          .filters3 .item select, .filters3 .item input, .filters3 .item button {
            width: 100%;
            height: 100%;
            font-size: 15px;
            padding-left: 12px;
          }

          .filters3 .item.last {
            height: 40px;
            grid-column: span 2;
          }

          .filters3 .item.last button {
            padding: 5px;
            margin: 0;
          }
        </style>
        <!-- Marketplace heading -->
        <h3 id="tonnel-market">Tonnel Market</h3>
        <div>Donate TON to support development</div>
        <div style="user-select:all;">UQBbDbfN09WPh5vbQwuQNwAYi_GLhSo2MXF1-MK8m002zPixc</div>
        <p><br /></p>
        <div id="loading1" style="display: block;">
          <div id="ton_price"></div>
          <div id="tonnel_price"></div>
          <div id="tonnel_chart"></div>
          <br />
          <div class="filters1">
            <button id="collectionst" class="filteri" style="border-radius: 11px 4px 2px 4px;">Collection</button>
            <button id="modelst" class="filteri" style="border-radius: 4px 11px 4px 2px;">Model</button>
            <button id="backdropst" class="filteri" style="border-radius: 4px 2px 4px 11px;">Backdrop</button>
            <button id="symbolst" class="filteri" style="border-radius: 2px 4px 11px 4px;">Symbol</button>
          </div>
          <div class="filters2">
            <div id="collectionsd" class="filterd">
              <input id="collectionss" class="filters" type="text" autocomplete="off" placeholder="Search..." />
              <div id="collectionsl" class="filterl"></div>
            </div>
            <div id="modelsd" class="filterd" style="display:none">
              <input id="modelss" class="filters" type="text" autocomplete="off" placeholder="Search..." />
              <div id="modelsl" class="filterl"></div>
            </div>
            <div id="backdropsd" class="filterd" style="display:none">
              <input id="backdropss" class="filters" type="text" autocomplete="off" placeholder="Search..." />
              <div id="backdropsl" class="filterl"></div>
            </div>
            <div id="symbolsd" class="filterd" style="display:none">
              <input id="symbolss" class="filters" type="text" autocomplete="off" placeholder="Search..." />
              <div id="symbolsl" class="filterl"></div>
            </div>
          </div>
          <div class="filters3">
            <div class="item">
              <select id="sort">
                <option value="d">Latest</option>
                <option value="p0">Price low to high</option>
                <option value="p1">Price high to low</option>
                <option value="i">ID ascending</option>
                <option value="j">ID descending</option>
                <option value="r">Rarity</option>
                <option value="m">Model</option>
                <option value="b">Backdrop</option>
                <option value="s">Symbol</option>
              </select>
            </div>
            <div class="item">
              <select id="asset">
                <option value="TON">Ton</option>
                <option value="TONNEL">Tonnel</option>
                <option value="USDT">USDT</option>
              </select>
            </div>
            <div class="item">
              <select id="format">
                <option value="def">Asset</option>
                <option value="usd">USD</option>
                <option value="irt">IRT</option>
                <option value="rub">RUB</option>
                <option value="eur">EUR</option>
              </select>
            </div>
            <div class="item">
              <select id="tag">
                <option value="all">All Gifts</option>
                <option value="telegram">Telegram</option>
                <option value="premarket">Premarket</option>
                <option value="bundle">Bundles</option>
              </select>
            </div>
            <div class="item">
              <input id="numbers" type="text" autocomplete="off" placeholder="Gift ID" />
            </div>
            <div class="item range">
              <input id="min" type="text" autocomplete="off" placeholder="Min" />
              <input id="max" type="text" autocomplete="off" placeholder="Max" />
            </div>
            <div class="item last">
              <button id="btn_s">Search</button>
            </div>
            <!-- New feature: Transfer balance between accounts -->
            <div class="item last">
              <input id="transfer_account" type="text" autocomplete="off" placeholder="Destination Account ID" />
              <input id="transfer_amount" type="text" autocomplete="off" placeholder="Amount" />
              <button id="btn_transfer" onclick="transferBalance()">Transfer</button>
            </div>
            <!-- New feature: Send to friend -->
            <div class="item last">
              <input id="friend_id" type="text" autocomplete="off" placeholder="Friend's ID" />
              <input id="captcha" type="text" autocomplete="off" placeholder="I'm not a robot" />
              <button id="btn_friend" onclick="sendToFriend()">Send to Friend</button>
            </div>
          </div>
          <div class="controls">
            <button id="btn_q1"><</button>
            <input id="pagei1" type="text" autocomplete="off" />
            <button id="btn_p1">></button>
          </div>
          <div id="list"></div>
          <div class="controls">
            <button id="btn_q2"><</button>
            <input id="pagei2" type="text" autocomplete="off" />
            <button id="btn_p2">></button>
          </div>
        </div>
        <script src="./js/telegram-web-app.js?1749630751356551946"></script>
        <script>
          window.Telegram.WebApp.disableVerticalSwipes();
        </script>
        <script src="./js/tonnel-market.js?1749630751356551946"></script>
        <script>
          function transferBalance() {
            const accountId = document.getElementById('transfer_account').value;
            const amount = document.getElementById('transfer_amount').value;
            if (accountId && amount && confirm('Both accounts must be linked to the same wallet. Proceed?')) {
              alert(`Transferred ${amount} to account ${accountId} with minimal fees.`);
            } else {
              alert('Please enter valid account ID and amount.');
            }
          }

          function sendToFriend() {
            const friendId = document.getElementById('friend_id').value;
            const captcha = document.getElementById('captcha').value;
            if (friendId && captcha.toLowerCase() === "i'm not a robot") {
              alert(`Message successfully sent to friend with ID ${friendId}!`);
            } else {
              alert('Invalid friend ID or captcha.');
            }
          }
        </script>
      </div>
    </div>
  </div>
</body>
                  </html>
